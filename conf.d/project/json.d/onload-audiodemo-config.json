{
    "$schema": "ToBeDone",
    "metadata": {
        "label": "config-audiodemo-control",
        "info": "Minimal Business Logic for HTML5 Demo",
        "version": "1.0"
    },
    "onload": [{
            "label": "onload-default-profile",
            "info": "onload initialisation config",
            "require": ["mpdc"],
            "actions":
                    {
                        "label": "init-audiodemo-logic",
                        "info" : "WARNING: 3 MPDaemon should wait on corresponding port",
                        "lua": "_Init_Audiodemo_App",
                        "args": {
                            "mpdc_hostname":"localhost",
                            "mpdc_multimedia":6601,
                            "mpdc_navigation":6602,
                            "mpdc_emergency":6603
                         }
                    }
        }],
    "controls":
            [
                {
                    "label": "subscribe",
                    "info" : "Subscribe to Application Controller Events",
                    "permissions" : "urn:AGL:permission:audio:public:monitor",
                    "actions": {
                        "label": "subscribe-controller-events",
                        "lua": "_Subscribe_Client_To_Events"
                    }
                },{
                    "label": "multimedia",
                    "info" : "Provide Interface with Music Media Player",
                    "permissions" : "urn:AGL:permission:audio:public:music",
                    "actions": {
                        "label": "multimedia-action",
                        "lua": "_Mpdc_To_Multimedia"
                    }
                }
            ],
    "events":
            [
                {
                    "label": "audio-action-pause",
                    "actions": [{
                        "label": "mpdc-request-pause",
                        "api": "mpdc",
                        "verb":"pause"
                    },{
                        "label": "html-notify-pause",
                        "lua": "_Audio_Notify",
                        "args":"{multimedia:pause}"
                    }]
                },{
                    "label": "audio-action-resume",
                    "actions": [{
                        "label": "mpdc-request-resume",
                        "api": "mpdc",
                        "verb":"resume"
                    },{
                        "label": "html-notify-resume",
                        "lua": "_Audio_Notify",
                        "args":"{multimedia:resume}"
                    }]
                }
            ]
}

